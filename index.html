<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>La Brisa Azul ‚Äî Coastal Menu / Carta Costera</title>
  <style>
    :root{
      --turquoise:#2ec4b6; /* primary */
      --sea:#66d9e8;
      --sand:#fff3e6;
      --coral:#ff7b6b;
      --card:#ffffffcc;
      --glass-border: rgba(255,255,255,0.35);
      --text:#083344;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--sea),var(--sand));color:var(--text)}

    /* wave background */
    .ocean{
      position:fixed;left:0;right:0;bottom:0;height:220px;pointer-events:none;z-index:0;opacity:0.25
    }
    .wave{background: radial-gradient(circle at 50% 0%, rgba(255,255,255,0.7) 0%, rgba(255,255,255,0) 40%);}    

    .container{max-width:1100px;margin:24px auto;padding:20px;position:relative;z-index:1}
    header{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:18px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:64px;height:64px;border-radius:999px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--turquoise),var(--sea));box-shadow:0 6px 20px rgba(0,0,0,0.08)}
    .logo svg{filter:drop-shadow(0 2px 4px rgba(0,0,0,0.12))}
    h1{margin:0;font-size:20px}
    p.subtitle{margin:0;opacity:0.85;font-size:13px}

    .controls{display:flex;align-items:center;gap:10px}
    .langbtn{background:var(--card);border:1px solid var(--glass-border);padding:6px 10px;border-radius:999px;cursor:pointer}
    .langbtn.active{font-weight:700;text-decoration:underline}

    main{display:grid;grid-template-columns:320px 1fr;gap:18px}

    /* left panel */
    .panel{background:var(--card);border:1px solid var(--glass-border);backdrop-filter:blur(6px);padding:16px;border-radius:14px}
    label{display:block;font-weight:600;margin-bottom:6px;font-size:13px}
    input[type=text]{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,0.06)}
    .categories{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
    .chip{padding:8px 10px;border-radius:999px;background:#ffffff;cursor:pointer;border:1px solid rgba(0,0,0,0.06);font-size:13px}
    .chip.active{background:var(--turquoise);color:white}
    .allergen-list{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
    .allergen{padding:6px 8px;border-radius:8px;background:#fff;border:1px solid rgba(0,0,0,0.04);cursor:pointer;font-size:12px}
    .allergen.hidden{background:var(--coral);color:white}
    .hint{font-size:12px;opacity:0.8;margin-top:10px}

    /* menu list */
    .menu{display:flex;flex-direction:column;gap:14px}
    .dish{display:flex;justify-content:space-between;background:var(--card);padding:12px;border-radius:12px;border:1px solid var(--glass-border);align-items:flex-start}
    .dish .left{flex:1}
    .dish h3{margin:0;font-size:16px}
    .price{font-weight:700}
    .ingredients{margin-top:8px;display:flex;flex-wrap:wrap;gap:8px}
    .ingredient{padding:6px 8px;border-radius:999px;background:rgba(255,255,255,0.8);font-size:13px;cursor:pointer;border:1px solid rgba(0,0,0,0.04)}
    .ingredient.removed{opacity:0.35;text-decoration:line-through}
    .allergens-row{margin-top:8px;display:flex;gap:8px;flex-wrap:wrap}
    .allergen-badge{padding:4px 8px;border-radius:8px;background:rgba(0,0,0,0.06);font-size:12px}
    .empty{padding:24px;border-radius:12px;background:rgba(255,255,255,0.6);text-align:center}

    footer.card{margin-top:18px;padding:12px;border-radius:12px;background:linear-gradient(90deg,rgba(255,255,255,0.5),rgba(255,255,255,0.3));border:1px solid var(--glass-border);display:flex;justify-content:space-between;align-items:center}

    /* responsive */
    @media(max-width:900px){main{grid-template-columns:1fr;}
    .panel{order:2}
    }

    /* small decorative elements */
    .tag{font-size:12px;padding:6px 8px;border-radius:8px;background:linear-gradient(90deg,var(--sea),var(--sand));border:1px solid rgba(0,0,0,0.06)}
    .badge-summer{font-size:12px;padding:6px 8px;border-radius:8px;background:linear-gradient(90deg,#fff8e6,#ffecec);border:1px solid rgba(0,0,0,0.03)}
  </style>
</head>
<body>
  <div class="ocean" aria-hidden>
    <svg class="wave" viewBox="0 0 1200 200" preserveAspectRatio="none" style="width:100%;height:100%"><path d="M0,100 C150,200 350,0 600,100 C850,200 1050,0 1200,100 L1200 200 L0 200 Z" fill="white" opacity="0.8"></path></svg>
  </div>

  <div class="container">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden>
          <svg width="34" height="34" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 12c5-8 15-8 20 0-5 8-15 8-20 0z" fill="white"/></svg>
        </div>
        <div>
          <h1>La Brisa Azul</h1>
          <p class="subtitle" id="subtitle">Beachfront ¬∑ Fresh seasonal seafood</p>
        </div>
      </div>

      <div class="controls">
        <div>
          <button id="btnEs" class="langbtn">ES</button>
          <button id="btnEn" class="langbtn active">EN</button>
        </div>
        <div class="tag" id="location">üåä Playa del Sol</div>
      </div>
    </header>

    <main>
      <aside class="panel">
        <div>
          <label id="labelSearch">Search</label>
          <input type="text" id="search" placeholder="Search name or ingredient..." />
        </div>

        <div style="margin-top:12px">
          <label id="labelCategory">Category</label>
          <div class="categories" id="categories"></div>
        </div>

        <div style="margin-top:12px">
          <label id="labelAllergens">Hide dishes with allergens</label>
          <div class="allergen-list" id="allergens"></div>
        </div>

        <div class="hint" id="hint">Tip: tap an ingredient to remove it temporarily for this session.</div>
      </aside>

      <section>
        <div class="menu" id="menu"></div>

        <div class="card footer" style="margin-top:14px;">
          <div>
            <div style="font-weight:700">La Brisa Azul</div>
            <div style="font-size:13px;opacity:0.8" id="footerText">Beachfront ¬∑ Fresh seasonal seafood</div>
          </div>
          <div style="text-align:right">
            <div>üìç Playa del Sol</div>
            <div style="font-size:13px;opacity:0.85">Open: 12:00 - 23:00</div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // Sample menu data
    const initialMenu = [
      { id:1, category:'starters', name:{en:'Citrus Ceviche', es:'Ceviche C√≠trico'}, price:12.5, ingredients:['sea bass','lime','onion','cilantro','chili'], allergens:['fish'] },
      { id:2, category:'mains', name:{en:'Grilled Octopus', es:'Pulpo a la Parrilla'}, price:18.0, ingredients:['octopus','potato','smoked paprika','olive oil'], allergens:['mollusk'] },
      { id:3, category:'mains', name:{en:'Summer Fish Tacos', es:'Tacos de Pescado de Verano'}, price:14.0, ingredients:['tortilla','white fish','cabbage','lime crema'], allergens:['gluten','dairy','fish'] },
      { id:4, category:'desserts', name:{en:'Coconut Sorbet', es:'Sorbete de Coco'}, price:6.5, ingredients:['coconut','lime','sugar'], allergens:[] },
      { id:5, category:'drinks', name:{en:'Tropical Spritz', es:'Spritz Tropical'}, price:9.0, ingredients:['sparkling wine','passion fruit','mint'], allergens:['sulfites'] },
      { id:6, category:'starters', name:{en:'Seaweed Salad', es:'Ensalada de Algas'}, price:8.5, ingredients:['seaweed','sesame','rice vinegar'], allergens:['sesame'] }
    ];

    let menu = JSON.parse(JSON.stringify(initialMenu));
    const categories = [ {key:'all', label:{en:'All',es:'Todos'}}, {key:'starters',label:{en:'Starters',es:'Entrantes'}}, {key:'mains',label:{en:'Mains',es:'Platos Principales'}}, {key:'desserts',label:{en:'Desserts',es:'Postres'}}, {key:'drinks',label:{en:'Drinks',es:'Bebidas'}} ];
    const allergenList = ['gluten','fish','mollusk','dairy','sesame','sulfites'];

    // state
    let lang = 'en';
    let activeCategory = 'all';
    let hiddenAllergens = new Set();
    let searchTerm = '';
    let removedIngredientsByDish = {}; // { dishId: Set([...]) }

    // dom refs
    const menuEl = document.getElementById('menu');
    const categoriesEl = document.getElementById('categories');
    const allergensEl = document.getElementById('allergens');
    const searchEl = document.getElementById('search');
    const btnEs = document.getElementById('btnEs');
    const btnEn = document.getElementById('btnEn');
    const subtitle = document.getElementById('subtitle');
    const footerText = document.getElementById('footerText');
    const labelSearch = document.getElementById('labelSearch');
    const labelCategory = document.getElementById('labelCategory');
    const labelAllergens = document.getElementById('labelAllergens');
    const hint = document.getElementById('hint');

    // init
    function init(){
      renderCategories();
      renderAllergens();
      attachListeners();
      renderMenu();
    }

    function attachListeners(){
      btnEs.addEventListener('click', ()=>{ setLang('es'); });
      btnEn.addEventListener('click', ()=>{ setLang('en'); });
      searchEl.addEventListener('input', e=>{ searchTerm = e.target.value.trim().toLowerCase(); renderMenu(); });
    }

    function setLang(l){ lang = l; btnEn.classList.toggle('active', lang==='en'); btnEs.classList.toggle('active', lang==='es');
      subtitle.textContent = lang==='en' ? 'Beachfront ¬∑ Fresh seasonal seafood' : 'Frente a la playa ¬∑ Mariscos frescos de temporada';
      footerText.textContent = lang==='en' ? 'Beachfront ¬∑ Fresh seasonal seafood' : 'Frente a la playa ¬∑ Mariscos frescos de temporada';
      labelSearch.textContent = lang==='en' ? 'Search' : 'Buscar';
      searchEl.placeholder = lang==='en' ? 'Search name or ingredient...' : 'Buscar por nombre o ingrediente...';
      labelCategory.textContent = lang==='en' ? 'Category' : 'Categor√≠a';
      labelAllergens.textContent = lang==='en' ? 'Hide dishes with allergens' : 'Ocultar platos con al√©rgenos';
      hint.textContent = lang==='en' ? 'Tip: tap an ingredient to remove it temporarily for this session.' : 'Consejo: toca un ingrediente del plato para quitarlo temporalmente en esta sesi√≥n.';
      renderCategories(); renderAllergens(); renderMenu(); }

    function renderCategories(){ categoriesEl.innerHTML=''; categories.forEach(c=>{
      const btn = document.createElement('button'); btn.className='chip'+(activeCategory===c.key? ' active':''); btn.textContent = c.label[lang];
      btn.onclick = ()=>{ activeCategory = c.key; document.querySelectorAll('.chip').forEach(x=>x.classList.remove('active')); btn.classList.add('active'); renderMenu(); };
      categoriesEl.appendChild(btn);
    })}

    function renderAllergens(){ allergensEl.innerHTML=''; allergenList.forEach(a=>{
      const b = document.createElement('button'); b.className = 'allergen'+(hiddenAllergens.has(a)?' hidden':''); b.textContent = a; b.onclick = ()=>{ if(hiddenAllergens.has(a)) hiddenAllergens.delete(a); else hiddenAllergens.add(a); renderAllergens(); renderMenu(); };
      allergensEl.appendChild(b);
    }) }

    function renderMenu(){
      const filtered = menu.filter(d=>{
        if(activeCategory!=='all' && d.category!==activeCategory) return false;
        if(searchTerm){ const name = d.name[lang].toLowerCase(); const ingredients = d.ingredients.join(' ').toLowerCase(); if(!name.includes(searchTerm) && !ingredients.includes(searchTerm)) return false; }
        // hide if contains any hidden allergen
        for(const a of hiddenAllergens) if(d.allergens.includes(a)) return false;
        return true;
      });

      menuEl.innerHTML='';
      if(filtered.length===0){ const em = document.createElement('div'); em.className='empty'; em.textContent = lang==='en'? 'No dishes match your filters.' : 'No hay platos que coincidan con tus filtros.'; menuEl.appendChild(em); return; }

      filtered.forEach(d=>{
        const dish = document.createElement('article'); dish.className='dish';
        const left = document.createElement('div'); left.className='left';
        const titleRow = document.createElement('div'); titleRow.style.display='flex'; titleRow.style.justifyContent='space-between'; titleRow.style.alignItems='center';
        const h = document.createElement('h3'); h.textContent = d.name[lang];
        const p = document.createElement('div'); p.className='price'; p.textContent = '‚Ç¨'+d.price.toFixed(2);
        titleRow.appendChild(h); titleRow.appendChild(p);

        const ingWrap = document.createElement('div'); ingWrap.className='ingredients';
        const removedSet = removedIngredientsByDish[d.id] || new Set();
        d.ingredients.forEach(ing=>{
          const ig = document.createElement('button'); ig.className = 'ingredient'+(removedSet.has(ing)?' removed':''); ig.textContent = ing + ' √ó';
          ig.onclick = ()=>{ toggleIngredient(d.id,ing); };
          ingWrap.appendChild(ig);
        });

        const allergRow = document.createElement('div'); allergRow.className='allergens-row';
        if(d.allergens.length===0){ const no = document.createElement('div'); no.style.opacity='0.8'; no.style.fontSize='13px'; no.textContent = lang==='en'? 'No declared allergens' : 'Sin al√©rgenos declarados'; allergRow.appendChild(no); }
        else d.allergens.forEach(a=>{ const b = document.createElement('div'); b.className='allergen-badge'; b.textContent = a; allergRow.appendChild(b); });

        const categoryText = document.createElement('div'); categoryText.style.marginTop='8px'; categoryText.style.fontSize='13px'; categoryText.style.opacity='0.85'; categoryText.textContent = (lang==='en'? 'Category: ':'Categor√≠a: ') + (categories.find(c=>c.key===d.category).label[lang]);

        left.appendChild(titleRow); left.appendChild(ingWrap); left.appendChild(allergRow); left.appendChild(categoryText);

        const right = document.createElement('div'); right.style.width='130px'; right.style.flexShrink='0';
        const card = document.createElement('div'); card.style.height='72px'; card.style.borderRadius='10px'; card.style.display='flex'; card.style.alignItems='center'; card.style.justifyContent='center'; card.style.border='1px solid rgba(0,0,0,0.04)'; card.style.background='linear-gradient(135deg,#c2f7ef,#ffe5d0)'; card.textContent = lang==='en'? 'Summer special' : 'Especial de verano';
        right.appendChild(card);

        dish.appendChild(left); dish.appendChild(right);
        menuEl.appendChild(dish);
      });
    }

    function toggleIngredient(dishId, ingredient){
      if(!removedIngredientsByDish[dishId]) removedIngredientsByDish[dishId]=new Set();
      const s = removedIngredientsByDish[dishId];
      if(s.has(ingredient)) s.delete(ingredient); else s.add(ingredient);
      // visually remove ingredient from the displayed dish; note: original menu data remains intact
      renderMenu();
    }

    // Initialize UI elements
    init();
  </script>
</body>
</html>
